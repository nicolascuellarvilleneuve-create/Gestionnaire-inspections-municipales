import{c as j,b as O,u as V,r as h,j as a}from"./index-DbTyyhW_.js";import{F as _,g as S,C as $}from"./pdfGenerator-CtfY9Uto.js";import{T as J,C as F}from"./trash-2-Dyv2AAGh.js";const H=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],U=j("file-down",H);const Q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W=j("plus",Q);const K=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P=j("save",K),Z={A:"biens de consommation mis en démonstration pour fins de vente",B:"véhicules automobiles neufs ou usagés et, de façon non limitative, bateaux, motoneiges, motocyclettes et autres véhicules récréatifs mis en démonstration pour fins de vente ou de location",C:"machinerie, équipements mobiles lourds, biens de consommation liés à l'automobile, maisons mobiles et roulottes de chantier mis en démonstration pour fins de vente ou de location",D:"marchandises en vrac et tout type de produit ou autre ne répondant pas aux autres types d'entreposage"},E=[{zone:"604-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"C D"},{zone:"632-Ib",margeAvant:20,margeArriere:15,margeLaterale:15,margeLateraleCombinee:30,typeEntreposage:"C D"},{zone:"633-Ib",margeAvant:20,margeArriere:15,margeLaterale:15,margeLateraleCombinee:30,typeEntreposage:"C D"},{zone:"657-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:4,margeLateraleCombinee:10,typeEntreposage:"C D"},{zone:"658-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:4,margeLateraleCombinee:10,typeEntreposage:"C D"},{zone:"660-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"C D"},{zone:"699-Ib",margeAvant:20,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:10,typeEntreposage:"N/A"},{zone:"804-Ia",margeAvant:12,margeArriere:7.5,margeLaterale:4,margeLateraleCombinee:10,typeEntreposage:"C D"},{zone:"826-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"C D"},{zone:"890-Ib",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"C D"},{zone:"892-Ib",margeAvant:20,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:10,typeEntreposage:"D"},{zone:"894-Ia",margeAvant:15,margeArriere:6,margeLaterale:12,margeLateraleCombinee:24,typeEntreposage:"B C"},{zone:"898-Ia",margeAvant:9.5,margeArriere:5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"B C D"},{zone:"899-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"B C D"},{zone:"900-Ia",margeAvant:0,margeArriere:0,margeLaterale:0,margeLateraleCombinee:0,typeEntreposage:"B"},{zone:"901-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"B C D"},{zone:"939-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:8,margeLateraleCombinee:12,typeEntreposage:"B C D"},{zone:"940-Ia",margeAvant:25,margeArriere:10,margeLaterale:10,margeLateraleCombinee:20,typeEntreposage:"N/A"},{zone:"945-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"B C D"},{zone:"946-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:6,margeLateraleCombinee:12,typeEntreposage:"B"},{zone:"1000-Ia",margeAvant:15,margeArriere:7.5,margeLaterale:4,margeLateraleCombinee:10,typeEntreposage:"C D"}],Y=[{label:"Locaux à sièges amovibles",factor:.75},{label:"Scènes",factor:.75},{label:"Locaux avec tables et sièges amovibles",factor:.95},{label:"Locaux de réunion sans sièges",factor:.4},{label:"Stades et tribunes",factor:.6},{label:"Salles de quilles et de billard",factor:9.3},{label:"Salles de classe",factor:1.85},{label:"Ateliers et salles de formation professionnelle",factor:9.3},{label:"Salles de lecture, d'étude ou de repos",factor:1.85},{label:"Salles à manger, bars et cafétérias",factor:1.2},{label:"Laboratoires scolaires",factor:4.6},{label:"Arcades",factor:1.85},{label:"Bibliothèques, musées et patinoires",factor:3},{label:"Gymnases et salles de culture physique",factor:9.3},{label:"Pistes de danse",factor:.4},{label:"Salles d'exposition et centres d'interprétation",factor:3},{label:"Locaux où sont administrés les soins/traitements (dormir)",factor:10},{label:"Locaux de détention",factor:11.6},{label:"Dortoirs",factor:4.6},{label:"Boutiques de services personnels",factor:4.6},{label:"Bureaux",factor:9.3},{label:"Sous-sols et premiers étages (Commerciaux)",factor:3.7},{label:"Deuxièmes étages (entrée principale commune)",factor:3.7},{label:"Autres étages (Commerciaux)",factor:5.6},{label:"Ateliers de fabrication et de transformation",factor:4.6},{label:"Garages de stationnement",factor:46},{label:"Dépôts de marchandises (entrepôts)",factor:28},{label:"Hangars d'aéronefs",factor:46},{label:"Locaux à sièges fixes (Nombre)",factor:null},{label:"Logements / Habitations",factor:null},{label:"Piscines",factor:null}],f={habitation:{label:"Habitation",subtypes:{unifamiliale:{label:"Unifamiliale / Bi-familiale",inputs:["nb_logement"],calc:l=>Math.ceil((l.nb_logement||1)*2),desc:"2 par logement (Standard présumé)"},multifamiliale:{label:"Multifamiliale",inputs:["nb_logement"],calc:l=>Math.ceil((l.nb_logement||1)*1.5),desc:"1.5 par logement (Standard présumé)"}}},commerce_service:{label:"Commerce et service",subtypes:{general:{label:"Voisinage, Artériel, Régional, Contrainte (Général)",inputs:[],calc:l=>Math.ceil((parseFloat(l.superficie_plancher)||0)/30),desc:"1 case par 30 m² de plancher"},cinema:{label:"Cinéma, Théâtre",inputs:["nb_sieges"],calc:l=>{const u=parseFloat(l.nb_sieges)||0;return u<=800?Math.ceil(u/5):Math.ceil(800/5)+Math.ceil((u-800)/8)},desc:"1/5 sièges (<800) + 1/8 surplus"},auto:{label:"Liés à l'automobile",inputs:["nb_employes"],calc:l=>Math.ceil((parseFloat(l.nb_employes)||0)/5)+Math.ceil((parseFloat(l.superficie_plancher)||0)/90),desc:"1/5 employés + 1/90 m² plancher"},centre_commercial:{label:"Centre commercial",inputs:["superficie_plancher_bureau"],calc:l=>Math.ceil((parseFloat(l.superficie_plancher)||0)/90*5.5)+Math.ceil((parseFloat(l.superficie_plancher_bureau)||0)/35),desc:"5.5/90m² comm + 1/35m² bureaux"},service_pro:{label:"Service professionnel et personnel",inputs:[],calc:l=>Math.ceil((parseFloat(l.superficie_plancher)||0)/35),desc:"1 case par 35 m² de plancher"},hotel:{label:"Hôtels",inputs:["nb_chambre"],calc:l=>{const u=parseFloat(l.nb_chambre)||0;return u<=30?Math.ceil(u):30+Math.ceil((u-30)/2)},desc:"1/chambre (30 premières) + 1/2 chambres (reste)"},motel:{label:"Motels / Maisons de touristes",inputs:["nb_chambre","nb_employes"],calc:l=>Math.ceil(parseFloat(l.nb_chambre)||0)+Math.ceil((parseFloat(l.nb_employes)||0)/2),desc:"1/chambre + 1/2 employés"},resto_bar:{label:"Resto, Bar, Boîte de nuit",inputs:["nb_sieges"],calc:l=>{const u=Math.ceil((parseFloat(l.nb_sieges)||0)/3),m=Math.ceil((parseFloat(l.superficie_plancher)||0)/9);return Math.max(u,m)},desc:"Max de: 1/3 sièges OU 1/9 m² plancher"},meuble:{label:"Magasins de meubles",inputs:["superficie_plancher_admin","nb_employes"],calc:l=>Math.ceil((parseFloat(l.superficie_plancher)||0)/90)+Math.ceil((parseFloat(l.superficie_plancher_admin)||0)/35)+Math.ceil((parseFloat(l.nb_employes)||0)/2),desc:"1/90m² vente + 1/35m² admin + 1/2 employés"}}},industrie:{label:"Commerce de gros et Industrie",subtypes:{standard:{label:"Standard",inputs:["nb_employes"],calc:l=>{const u=parseFloat(l.nb_employes)||0,m=Math.ceil((parseFloat(l.superficie_plancher)||0)/95);return Math.max(u,m)},desc:"Max de: 1/employé OU 1/95 m² plancher"}}},public:{label:"Public et institutionnel",subtypes:{biblio_musee:{label:"Bibliothèque et Musée",inputs:[],calc:l=>Math.ceil((parseFloat(l.superficie_plancher)||0)/35),desc:"1 case par 35 m² de plancher"},culte:{label:"Édifice du culte",inputs:["nb_sieges"],calc:l=>Math.ceil((parseFloat(l.nb_sieges)||0)/5),desc:"1 case par 5 sièges"},ecole_primaire:{label:"École primaire / secondaire",inputs:["nb_employes","nb_classes"],calc:l=>Math.ceil((parseFloat(l.nb_employes)||0)/2)+(parseFloat(l.nb_classes)||0),desc:"1/2 employés + 1/classe"},ecole_superieur:{label:"Collégial / Universitaire",inputs:["nb_etudiants","nb_employes"],calc:l=>Math.ceil((parseFloat(l.nb_etudiants)||0)/4)+Math.ceil((parseFloat(l.nb_employes)||0)/2),desc:"1/4 étudiants + 1/2 employés"},salon_mortuaire:{label:"Salon mortuaire",inputs:["nb_salle_expo"],calc:l=>{const u=Math.ceil((parseFloat(l.superficie_plancher)||0)/10),m=(parseFloat(l.nb_salle_expo)||0)*10;return Math.max(u,m)},desc:"Max de: 1/10 m² plancher OU 10/salle expo"},sante_convalescence:{label:"Sanatorium, Convalescence, Orphelinat",inputs:["nb_medecins","nb_employes","nb_lits"],calc:l=>(parseFloat(l.nb_medecins)||0)+Math.ceil((parseFloat(l.nb_employes)||0)/2)+Math.ceil((parseFloat(l.nb_lits)||0)/4),desc:"1/médecin + 1/2 employés + 1/4 lits"},hopital:{label:"Hôpital",inputs:["nb_lits"],calc:l=>{const u=Math.ceil((parseFloat(l.nb_lits)||0)/4*3),m=Math.ceil((parseFloat(l.superficie_plancher)||0)/95);return Math.max(u,m)},desc:"Max de: 3/4 lits OU 1/95 m² plancher"},assemblee:{label:"Lieux d'assemblées",inputs:["nb_sieges"],calc:l=>{const u=Math.ceil((parseFloat(l.nb_sieges)||0)/4),m=Math.ceil((parseFloat(l.superficie_plancher)||0)/10);return Math.max(u,m)},desc:"Max de: 1/4 sièges OU 1/10 m²"}}},recreation:{label:"Récréation",subtypes:{standard:{label:"Standard",inputs:["nb_unite_jeux","nb_sieges"],calc:l=>{const u=(parseFloat(l.nb_unite_jeux)||0)*2,m=Math.ceil((parseFloat(l.nb_sieges)||0)/4),C=Math.ceil((parseFloat(l.superficie_plancher)||0)/10);return u+Math.max(m,C)},desc:"2/unité jeux + Max(1/4 sièges, 1/10 m²)"}}}},X=["10e Avenue","10e Rue","11e Rue","12e Rue","13e Rue","14e Rue","15e Rue","16e Rue","17e Rue","18e Rue","19e Rue","1e Avenue","1e Rue","2e Avenue","2e Rue","3e Avenue","3e Avenue Est","3e Rue","4e Avenue","4e Rue","5e Avenue","5e Rue","6e Avenue","6e Rue","7e Avenue","7e Rue","8e Avenue","8e Rue","9e Rue","Avenue Abitibi","Avenue Britt","Avenue Brochu","Avenue Brébeuf","Avenue Bérard","Avenue Centrale","Avenue Champlain","Avenue Chapais","Avenue Delorimier","Avenue Dion","Avenue Dufour","Avenue Déry","Avenue Homer-French","Avenue LaSalle","Avenue Lalonde","Avenue Perreault","Avenue de Carillon","Avenue des Érables","Boulevard Armand-Gilbert","Boulevard Barrette","Boulevard Dennison","Boulevard Forest","Boulevard Jean-Jacques-Cossette","Boulevard Lamaque","Boulevard Sabourin","Boulevard Tétrault","Boulevard de l'Hôpital","Boulevard de l'Hôtel-de-Ville","Boulevard des Pins","Chemin Albert-Rivest","Chemin Audy","Chemin Beaudet","Chemin Beaulieu","Chemin Bellerive","Chemin Blanchette","Chemin Brador","Chemin Béchard","Chemin Bérubé","Chemin Chimo","Chemin Céré","Chemin Desrosiers","Chemin Duval","Chemin East Sullivan","Chemin Fortier","Chemin Gabriel-Commanda","Chemin Gervais","Chemin Gisèle-Wexler","Chemin Harricana","Chemin Kienawisik","Chemin Leblanc","Chemin Louvem","Chemin Manitou-Barvue","Chemin Mercier","Chemin Norrie","Chemin Paré","Chemin Pascalis","Chemin Perron","Chemin Petel","Chemin Peter Ferderber","Chemin Proulx","Chemin Pépin","Chemin René","Chemin Rousseau","Chemin Siscoe","Chemin Sleepy","Chemin Sullivan","Chemin Tenhave","Chemin de Saint-Edmond","Chemin de Val-des-Bois","Chemin de Val-des-Vents","Chemin de Val-du-Repos","Chemin de Val-la-Forêt","Chemin de l'Envol","Chemin de l'Horizon","Chemin de la Baie Noire","Chemin de la Baie-Carrière","Chemin de la Baie-Dorée","Chemin de la Baie-Jolie","Chemin de la Baie-Vauquelin","Chemin de la Baie-de-la-Paix","Chemin de la Foret-Boreale","Chemin de la Forêt-Récréative","Chemin de la Gare","Chemin de la Mine Norlatic","Chemin de la Mine-Goldex","Chemin de la Mine-École","Chemin de la Plage","Chemin de la Plage-Lemoine","Chemin de la Plage-Rotary","Chemin de la Pointe-de-la-CIP","Chemin de la Rivière-Piché","Chemin de la Récupération","Chemin des Boisés","Chemin des Explorateurs","Chemin des Grands-Ducs","Chemin des Loisirs","Chemin des Merisiers","Chemin des Mineurs","Chemin des Rapides-Twin","Chemin des Scouts","Chemin des Sources","Chemin du Champ-de-Tir","Chemin du Lac","Chemin du Lac-Ben","Chemin du Lac-Blouin","Chemin du Lac-Bonnefond","Chemin du Lac-Denain","Chemin du Lac-Guéguen","Chemin du Lac-Langis","Chemin du Lac-Matchi-Manitou","Chemin du Lac-Sabourin","Chemin du Lac-Simard","Chemin du Lac-Vassan","Chemin du Lac-Viiebon Sud","Chemin du Lac-Villebon Nord","Chemin du Lac-Wyeth","Chemin du Plein-Air","Chemin du Pont-Carrier","Chemin du Pont-Champagne","Chimin Bayview","Chimin du Lac Savard","Chimin du Lac-Clair","Halte de Sainte-Anne-des-Monts","La Vérendrye 44","Montée Béland","Piste du millénaire","Place Cartman","Place Côté","Place Guillemette","Place Hammond","Place Jacola","Place Maisonneuve","Place Vanier","Place de la Baie-James","Place de la Baie-d'Hudson","Place des Outardes","Pont Couvert Champagne","Rang de Rapide-Sept","Route 111","Route 113","Route 117","Route Verte","Route de Saint-Philippe","Route des Campagnards","Route du Chanoine-Richard","Route du Curé-Brien","Rue Alarie","Rue Alcide-Boudreau","Rue Alfred-Fortin","Rue Alix","Rue Allard","Rue Armand-Beaudoin","Rue Arseneault","Rue Aubé","Rue Auger","Rue Ayotte","Rue Babin","Rue Bacon","Rue Baribeau","Rue Barrette","Rue Beauchamp","Rue Beauchemin","Rue Beauchesne","Rue Beaupré","Rue Beauvais","Rue Bellevue","Rue Belmont","Rue Benoit","Rue Bernard","Rue Bernier","Rue Bisson","Rue Blais","Rue Blanchard","Rue Blériot","Rue Boivin","Rue Bombardier","Rue Bouchard","Rue Bouffard","Rue Boulet","Rue Bourassa","Rue Bourcier","Rue Bourret","Rue Brassard","Rue Brazeau","Rue Brisson","Rue Brousseau","Rue Brulotte","Rue Bussières","Rue Bégin","Rue Bélanger","Rue Bélisle","Rue Bénard","Rue Cadillac","Rue Cadotte","Rue Canadienne","Rue Chabot","Rue Chalikoff","Rue Champoux","Rue Chanteclair","Rue Charest","Rue Charland","Rue Chouinard","Rue Chénier","Rue Cicip","Rue Citadelle","Rue Clairevue","Rue Clark","Rue Cliche","Rue Cloutier","Rue Cormier","Rue Courchesne","Rue Curé-Foisy","Rue Cyr","Rue D'Aragon","Rue De Montigny","Rue Des Cormorans","Rue Des Lauriers","Rue Després","Rue Dorion","Rue Dubeau","Rue Dubois","Rue Dubé","Rue Duchesne","Rue Dufresne","Rue Duhaime","Rue Dupuis","Rue Désalliers","Rue Elizabeth","Rue Fecteau","Rue Finlay","Rue Fisher","Rue Foley","Rue Fortin","Rue Fournier","Rue Frank-O'Connell","Rue Frontenac","Rue Fréchette","Rue Gareau","Rue Gauthier","Rue Georges-Dumont","Rue Germain","Rue Giguère","Rue Gilbert-Bossé","Rue Gilles","Rue Goulet","Rue Goyette","Rue Grenier","Rue Groleau","Rue Grondin","Rue Guay","Rue Guénette","Rue Gélinas","Rue Hertel-Authier","Rue Iberville","Rue Jean","Rue Jean-Pierre","Rue Jeanne","Rue Johnson","Rue Jolin","Rue Jones","Rue Journeau","Rue Jules-Brisebois","Rue Juteau","Rue Ken","Rue L'Heureux","Rue L'Écuyer","Rue La Vérendrye","Rue Labelle","Rue Ladouceur","Rue Laflamme","Rue Lafleur","Rue Lafontaine","Rue Laframboise","Rue Lainesse","Rue Lamer","Rue Landry","Rue Lapointe","Rue Laprairie","Rue Laroche","Rue Larocque","Rue Larouche","Rue Latulippe","Rue Laurentien","Rue Laurier","Rue Lauzanne","Rue Lauzon","Rue Laval","Rue Lawlis","Rue Le Baron","Rue Le Marquis","Rue Le Nordique","Rue Le Pacifique","Rue Le Villager","Rue Lebuis","Rue Lebœuf","Rue Leclerc","Rue Lecompte","Rue Lefebvre","Rue Lejeune","Rue Lemay","Rue Lemieux","Rue Lepack","Rue Lepage","Rue Lesage","Rue Limoges","Rue Lorette-Siscoe","Rue Lortie","Rue Louise-Lemay","Rue Lucille-Rossignol","Rue Léo-Fournier","Rue Léon-Bertrand","Rue Lévesque","Rue Lévis","Rue Marc","Rue Marchand","Rue Marcoux","Rue Marguerite-Bourgeoys","Rue Marineau","Rue Massicotte","Rue Maurice","Rue Mercedès-Bourgeois","Rue Michaud","Rue Miljours","Rue Montcalm","Rue Montgomery","Rue Moreau","Rue Morel","Rue Morin","Rue Morissette","Rue Ménard","Rue Nadeau","Rue Napoléon","Rue Naud","Rue Nelson","Rue Omer-Godbout","Rue Paquet","Rue Paradis","Rue Parent","Rue Pauzé","Rue Perras","Rue Perry","Rue Pierre","Rue Pierret","Rue Pilotte","Rue Pinard","Rue Plante","Rue Plessis","Rue Poirier","Rue Portelance","Rue Potvin","Rue Poulin","Rue Quessy","Rue Racine","Rue Ranger","Rue Robert-Gagné","Rue Rochefort","Rue Roland-Audet","Rue Roland-Massé","Rue Roméo-Dumais","Rue Roy","Rue Saint-Denis","Rue Saint-Exupéry","Rue Saint-Germain","Rue Saint-Jacques","Rue Saint-Jean","Rue Saint-Joseph","Rue Saint-Julien","Rue Saint-Laurent","Rue Sandra","Rue Sandra-Gaudet","Rue Saucier","Rue Savoie","Rue Self","Rue Sigma","Rue Simard","Rue Sylvestre","Rue Séguin","Rue Taché","Rue Ted-Godon","Rue Thibault","Rue Théberge","Rue Thérèse-Lacroix","Rue Toulouse","Rue Tremblay","Rue Trudel","Rue Turcotte","Rue Turgeon","Rue Vaillancourt","Rue Vallières","Rue Vanasse","Rue Villeneuve","Rue Viney","Rue Williston","Rue Wolfe","Rue Yergeau","Rue d'Ukraine","Rue de Carufel","Rue de La Québécoise","Rue de l'Académie","Rue de l'Alizé","Rue de l'Anse","Rue de l'Escale","Rue de l'Esplanade","Rue de l'Hydro","Rue de l'Or","Rue de l'Union","Rue de l'Église","Rue de l'Étang","Rue de la Berge","Rue de la Bourgade","Rue de la Brise","Rue de la Buse","Rue de la Calcite","Rue de la Cascade","Rue de la Clairière","Rue de la Colline","Rue de la Fabrique","Rue de la Gravière","Rue de la Grève","Rue de la Marina","Rue de la Météo","Rue de la Pinède","Rue de la Promenade","Rue de la Pyrite","Rue de la Rivière","Rue des Beaubois","Rue des Bosquets","Rue des Bouleaux","Rue des Buissons","Rue des Colibris","Rue des Cyprès","Rue des Cèdres","Rue des Distributeurs","Rue des Dunes","Rue des Eaux-Nettes","Rue des Feuillus","Rue des Foreurs","Rue des Geais-Bleus","Rue des Hauts-Bois","Rue des Hirondelles","Rue des Hérons","Rue des Iris","Rue des Joncs","Rue des Lilas","Rue des Malards","Rue des Manufacturiers","Rue des Mélèzes","Rue des Noisetiers","Rue des Panneaux","Rue des Parulines","Rue des Perdrix","Rue des Peupliers","Rue des Pins","Rue des Pionniers","Rue des Places","Rue des Plaines","Rue des Prés","Rue des Riverains","Rue des Roses","Rue des Sapins","Rue des Saules","Rue des Sentiers","Rue des Sorbiers","Rue des Thuyas","Rue des Tilleuls","Rue des Tourterelles","Rue des Trembles","Rue des Vétérans","Rue des Épinettes","Rue du Bourg-de-l'Esker","Rue du Cap","Rue du Chaud-Bois","Rue du Concorde","Rue du Coteau","Rue du Cuivre","Rue du Curé-Ouellet","Rue du Curé-Quenneville","Rue du Curé-Roy","Rue du Docteur-Lessard","Rue du Domaine-du-Repos","Rue du Marais","Rue du Mascaret","Rue du Mistral","Rue du Méandre","Rue du Nickel","Rue du Norois","Rue du Parc","Rue du Parc-Benny","Rue du Portage","Rue du Quai","Rue du Quartz","Rue du Rivage","Rue du Ruisseau","Rue du Souvenir","Rue du Zéphyr","Sentier des Fougères","Voie de Service Goldex-Manitou"],se=({onSave:l,initialData:u})=>{const{addInspection:m}=O(),{getToken:C}=V(),D=r=>{const i={};return r.forEach(e=>{i[e.id]=""}),i},N={};_.forEach(r=>{r.repeatable?N[r.id]=[]:r.fields.forEach(i=>{N[i.id]=""})});const[s,d]=h.useState(N);h.useEffect(()=>{u&&(u.numero_civique||u.type_activite?(console.log("Restoring Full Inspection Data...",u),d(r=>({...r,...u,locataires:u.locataires||[],batiment_complementaire:u.batiment_complementaire||[],validation_professionnelle:u.validation_professionnelle||[],conteneur:u.conteneur||[],surfaces_impermeabilisees:u.surfaces_impermeabilisees||[]}))):u.number&&d(r=>({...r,numero_civique:u.number||r.numero_civique,nom_rue:u.street||r.nom_rue,cadastre:u.matricule||r.cadastre,source_localisation:"Carte Interactive (Infolot)"})))},[u]);const p=s.zone&&E.find(r=>r.zone===s.zone)||null,x=(()=>{const r={};if(p&&(_.find(e=>e.id==="marges_verifications")?.fields||[]).forEach(e=>{if(e.type==="measurement"&&e.normField){const n=s[e.id],t=p[e.normField];if(n===""||n===null)r[e.id]="empty";else{const o=parseFloat(n);isNaN(o)?r[e.id]="invalid":o<t?r[e.id]="non-conforme":r[e.id]="conforme"}}}),s.type_terrain==="Terrain d'angle"){const i=s.distance_coin;if(i!==""&&i!==null&&i!==void 0){const e=parseFloat(i);isNaN(e)||(e<12?r.distance_coin="non-conforme":r.distance_coin="conforme")}}return r})();h.useEffect(()=>{const r=parseFloat(s.superficie_terrain)||0,i=parseFloat(s.superficie_batiment_princ)||0,e=Array.isArray(s.batiment_complementaire)?s.batiment_complementaire.reduce((c,b)=>c+(parseFloat(b.superficie_batiment_acc)||0),0):0,n=i+e;let t=0;r>0&&(t=n/r*100);const o=Array.isArray(s.batiment_complementaire)?s.batiment_complementaire.length:0;d(c=>c.total_superficie_batiments!==n.toFixed(2)||c.ces!==t.toFixed(2)+"%"||c.nb_batiment_acc!==o?{...c,total_superficie_batiments:n.toFixed(2),ces:t.toFixed(2)+"%",nb_batiment_acc:o,superficie_batiment_princ_ces:i,superficie_batiment_acc:e.toFixed(2)}:c)},[s.superficie_terrain,s.superficie_batiment_princ,s.batiment_complementaire]),h.useEffect(()=>{const r=s.locataires?s.locataires.reduce((t,o)=>t+(parseFloat(o.superficie_occupe)||0),0):0,i=parseFloat(s.superficie_batiment_princ)||0;let e=0;i>0&&(e=r/i*100);const n=e>0?e.toFixed(2)+"%":"";s.dob!==n&&d(t=>({...t,dob:n}))},[s.locataires,s.superficie_batiment_princ,s.dob]),h.useEffect(()=>{const r=s.type_activite,i=s.sous_type_activite;let e=0;if(r&&i&&f[r]&&f[r].subtypes[i]){const t=f[r].subtypes[i];try{e=t.calc(s)}catch(o){console.error("Error calculating parking:",o)}}const n=e>0?e.toString():"";s.nb_cases_requises!==n&&d(t=>({...t,nb_cases_requises:n}))},[s.type_activite,s.sous_type_activite,s.superficie_plancher,s.nb_sieges,s.nb_employes,s.nb_logement,s.nb_chambre,s.nb_classes,s.nb_etudiants,s.nb_medecins,s.nb_lits,s.nb_salle_expo,s.nb_unite_jeux,s.superficie_plancher_bureau,s.superficie_plancher_admin,s.nb_cases_requises]),h.useEffect(()=>{s.type_activite==="industrie"&&d(r=>r.presence_locataire?r:{...r,presence_locataire:!0})},[s.type_activite]),h.useEffect(()=>{const r=async()=>{if(!s.numero_civique||!s.nom_rue)return;const n=`${s.numero_civique} ${s.nom_rue}, Val-d'Or, Quebec`;try{const o=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}`)).json();if(o&&o.length>0){const{lat:c,lon:b}=o[0];(s.latitude!==c||s.longitude!==b)&&d(g=>({...g,latitude:c,longitude:b,source_localisation:"GPS Automatique (Nominatim)"}))}}catch(t){console.error("Geocoding Error:",t)}},i=setTimeout(()=>{r()},1e3);return()=>clearTimeout(i)},[s.numero_civique,s.nom_rue,s.latitude,s.longitude]),h.useEffect(()=>{if(!s.validation_professionnelle||s.validation_professionnelle.length===0)return;const r=s.validation_professionnelle.map(e=>{let n="";return e.type_professionnel&&e.numero_membre&&(e.type_professionnel.includes("OIQ")?n=`https://www.oiq.qc.ca/fr/trouver-un-ingenieur?num=${e.numero_membre}`:e.type_professionnel.includes("OAQ")?n=`https://www.oaq.com/tableau-des-membres/?q=${e.numero_membre}`:e.type_professionnel.includes("OAGQ")?n=`https://www.oagq.qc.ca/tableau-des-membres?q=${e.numero_membre}`:e.type_professionnel.includes("OTPQ")&&(n=`https://www.otpq.qc.ca/bottin?q=${e.numero_membre}`)),e.lien_verification!==n?{...e,lien_verification:n}:e});JSON.stringify(r)!==JSON.stringify(s.validation_professionnelle)&&d(e=>({...e,validation_professionnelle:r}))},[s.validation_professionnelle]);const R=r=>{const{name:i,value:e,type:n,checked:t}=r.target;d(o=>({...o,[i]:n==="checkbox"?t:e}))},y=(r,i,e)=>{const{name:n,value:t,type:o,checked:c}=e.target;d(b=>{const g=[...b[r]];return g[i]={...g[i],[n]:o==="checkbox"?c:t},{...b,[r]:g}})},A=(r,i,e)=>{d(n=>({...n,[i]:e}))},L=(r,i)=>{if(r.id==="type_activite"){const e=Object.keys(f).map(n=>({value:n,label:f[n].label}));return a.jsxs("select",{value:s.type_activite||"",onChange:n=>A(i,r.id,n.target.value),className:"w-full p-2 border rounded bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sélectionner..."}),e.map(n=>a.jsx("option",{value:n.value,children:n.label},n.value))]},r.id)}if(r.id==="sous_type_activite"){if(!s.type_activite||!f[s.type_activite])return null;const e=f[s.type_activite].subtypes,n=Object.keys(e).map(t=>({value:t,label:e[t].label}));return a.jsxs("select",{value:s.sous_type_activite||"",onChange:t=>A(i,r.id,t.target.value),className:"w-full p-2 border rounded bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Sélectionner..."}),n.map(t=>a.jsx("option",{value:t.value,children:t.label},t.value))]},r.id)}return r.type==="autocomplete"?a.jsxs("div",{className:r.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:r.label}),a.jsx("input",{type:"text",name:r.id,value:s[r.id]||"",onChange:R,list:`list-${r.id}`,className:"w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none",placeholder:"Commencez à écrire..."}),a.jsx("datalist",{id:`list-${r.id}`,children:X.map((e,n)=>a.jsx("option",{value:e},n))})]},r.id):null},k=r=>{d(i=>({...i,[r.id]:[...i[r.id],D(r.fields)]}))},z=()=>{const r={id:Date.now(),adresse:s.nom_rue?`${s.numero_civique||""} ${s.nom_rue}`:"Adresse Inconnue",proprietaire:s.nom_proprietaire,zone:s.zone,status:Object.values(x).some(i=>i==="non-conforme")?"Non-conforme":"Conforme",formData:s,date:new Date().toLocaleDateString()};S(r)},q=()=>{document.querySelector("form").dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};h.useEffect(()=>{const r=p;if(r&&r.nature_entreposage){const e=r.nature_entreposage.split(",").map(n=>n.trim()).map(n=>{const t=Z[n];return t?`${n} : ${t}`:n}).join(`

`);s.nature_entreposage!==e&&d(n=>({...n,nature_entreposage:e}))}},[p,s.type_entreposage,s.nature_entreposage]),h.useEffect(()=>{const r=s.usage_cnb,i=parseFloat(s.superficie_plancher)||0;let e="",n="";if(r){const v=Y.find(I=>I.label===r);v&&v.factor!==null&&(e=v.factor)}i>0&&e&&(n=Math.round(i/e));const t=s.facteur_charge,o=s.superficie_plancher_ref,c=s.charge_occupation,b=e?e.toString():"",g=i>0?i.toString():"",M=n!==""?n.toString():"";(t!==b||o!==g||c!==M)&&d(v=>({...v,facteur_charge:b,superficie_plancher_ref:g,charge_occupation:M}))},[s.usage_cnb,s.superficie_plancher,s.facteur_charge,s.superficie_plancher_ref,s.charge_occupation]);const G=(r,i)=>{d(e=>({...e,[r]:e[r].filter((n,t)=>t!==i)}))},B=(r,i)=>{if(!r||!i)return null;const e=parseFloat(r);return isNaN(e)?null:(e-i).toFixed(2)},w=(r,i)=>r==="conforme"?a.jsxs("span",{className:"flex items-center text-green-600 text-xs font-bold uppercase tracking-wider bg-green-50 px-2 py-1 rounded-md border border-green-100",children:[a.jsx(F,{size:14,className:"mr-1"})," Conforme (+",i,"m)"]}):r==="non-conforme"?a.jsxs("span",{className:"flex items-center text-red-600 text-xs font-bold uppercase tracking-wider bg-red-50 px-2 py-1 rounded-md border border-red-100 animate-pulse",children:[a.jsx($,{size:14,className:"mr-1"})," Non-conforme (",i,"m)"]}):null,T=async r=>{r.preventDefault();const e=Object.values(x).some(t=>t==="non-conforme")?"Non-conforme":"Conforme",n={id:Date.now(),adresse:s.nom_rue?`${s.numero_civique||""} ${s.nom_rue}`:"Adresse Inconnue",proprietaire:s.nom_proprietaire,zone:s.zone,status:e,formData:s,details:{},date:new Date().toLocaleDateString()};Object.keys(x).forEach(t=>{if(s[t]){const o=_.find(c=>c.id==="marges_verifications")?.fields.find(c=>c.id===t);o&&p&&(n.details||(n.details={}),n.details[t]={requis:p[o.normField],releve:s[t],conforme:x[t]==="conforme"})}});try{console.log("Saving to Federation...",n);const t=C(),o=await fetch("http://localhost:3001/api/inspections",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)});if(!o.ok)throw o.status===403||o.status===401?new Error("Session expirée. Veuillez vous reconnecter."):new Error("Erreur serveur: "+o.statusText);const c=await o.json();console.log("Saved to Vault ID:",c.id),alert("✅ Inspection sauvegardée dans la voute sécurisée!")}catch(t){console.error("Federation Error:",t),alert(`⚠️ ERREUR DE SAUVEGARDE: ${t.message}`)}m(n),window.confirm("Voulez-vous télécharger le PDF maintenant ?")&&S(n),l&&l()};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("div",{className:"bg-white border-b border-slate-200 px-8 py-4 shadow-sm mb-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"Inspection Municipale"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Formulaire de saisie et de calcul"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{type:"button",onClick:z,className:"bg-slate-800 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-slate-200 hover:bg-slate-700 hover:shadow-xl transition-all flex items-center",children:[a.jsx(U,{size:20,className:"mr-2"}),"PDF"]}),a.jsxs("button",{onClick:q,className:"bg-blue-600 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-500 hover:shadow-blue-300 transition-all flex items-center",children:[a.jsx(P,{size:20,className:"mr-2"}),"Enregistrer"]})]})]})}),a.jsxs("div",{className:"max-w-[1800px] mx-auto p-8 flex items-start gap-8",children:[a.jsx("nav",{className:"fixed left-0 md:left-64 top-32 z-50 group",children:a.jsxs("div",{className:"bg-[#1a1b26] rounded-r-2xl shadow-md border border-[#414868] overflow-hidden w-16 hover:w-72 transition-all duration-300 ease-in-out h-[calc(100vh-10rem)] overflow-y-auto [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[a.jsx("div",{className:"p-4 border-b border-[#414868] bg-[#1a1b26] flex items-center overflow-hidden whitespace-nowrap",children:a.jsx("h3",{className:"font-bold text-[#c0caf5] uppercase text-xs tracking-wider opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100 pl-2",children:"Navigation"})}),a.jsx("ul",{className:"py-2",children:_.map((r,i)=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>{document.getElementById(r.id)?.scrollIntoView({behavior:"smooth",block:"start"})},className:"w-full text-left px-4 py-3 text-sm font-medium text-[#7aa2f7] hover:bg-[#24283b] hover:text-[#bb9af7] transition-colors flex items-center border-l-4 border-transparent hover:border-[#7aa2f7] overflow-hidden whitespace-nowrap",title:r.title,children:[a.jsx("span",{className:"w-8 h-8 rounded bg-[#24283b] text-[#565f89] flex items-center justify-center text-sm font-bold shrink-0 shadow-sm group-hover:bg-[#414868] group-hover:text-[#c0caf5] transition-colors",children:i+1}),a.jsx("span",{className:"ml-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 delay-75 truncate block text-[#c0caf5]",children:r.title})]})},r.id))})]})}),a.jsxs("form",{onSubmit:T,className:"flex-1 space-y-8 pb-24 ml-16 md:ml-32 w-full",children:[_.map((r,i)=>r.id==="locataires"&&(s.type_activite==="habitation"||!s.presence_locataire)||r.id==="logements"&&s.type_activite!=="habitation"?null:r.repeatable?a.jsxs("section",{id:r.id,className:"space-y-4 scroll-mt-32",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 tracking-tight uppercase flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center font-bold text-sm mr-4 shadow-sm",children:i+1}),r.title]}),a.jsxs("button",{type:"button",onClick:()=>k(r),className:"bg-blue-50 text-blue-600 px-4 py-2 rounded-lg text-sm font-bold flex items-center hover:bg-blue-100 transition-colors",children:[a.jsx(W,{size:16,className:"mr-2"})," Ajouter ",r.repeatLabel]})]}),s[r.id].map((e,n)=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden relative group",children:[a.jsxs("div",{className:"bg-slate-50/50 px-6 py-3 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("span",{className:"font-bold text-slate-700 text-sm",children:[r.repeatLabel," #",n+1]}),a.jsx("button",{type:"button",onClick:()=>G(r.id,n),className:"text-slate-400 hover:text-red-500 transition-colors",children:a.jsx(J,{size:18})})]}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:r.fields.map(t=>a.jsxs("div",{className:t.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:t.label}),t.type==="select"?a.jsxs("select",{name:t.id,value:e[t.id],onChange:o=>y(r.id,n,o),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none font-medium",children:[a.jsx("option",{value:"",children:"Sélectionner..."}),Array.isArray(t.options)&&t.options.map(o=>a.jsx("option",{value:o,children:o},o))]}):t.type==="checkbox"?a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50 transition-colors",children:[a.jsx("input",{type:"checkbox",name:`${t.id}`,checked:e[t.id],onChange:o=>y(r.id,n,o),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Oui / Confirmé"})]}):t.type==="file"?a.jsx("input",{type:"file",name:`${t.id}`,onChange:o=>y(r.id,n,o),className:`block w-full text-sm text-slate-500\r
                                                                      file:mr-4 file:py-2 file:px-4\r
                                                                      file:rounded-full file:border-0\r
                                                                      file:text-sm file:font-semibold\r
                                                                      file:bg-blue-50 file:text-blue-700\r
                                                                      hover:file:bg-blue-100`}):t.type==="link"?a.jsxs("div",{className:"flex items-center",children:[e[t.id]?a.jsxs("a",{href:e[t.id],target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:text-blue-800 underline font-semibold",children:[a.jsx(F,{size:16,className:"mr-1"})," Vérifier au Registre"]}):a.jsx("span",{className:"text-slate-400 text-sm italic",children:"Entrez les infos membre pour générer le lien..."}),a.jsx("input",{type:"hidden",name:t.id,value:e[t.id]||""})]}):a.jsx("input",{type:t.type,name:`${t.id}`,value:e[t.id],onChange:o=>y(r.id,n,o),className:`w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none ${t.readonly?"bg-slate-100 text-slate-500":""}`,placeholder:t.label,readOnly:t.readonly})]},`${t.id}_${n}`))})]},n))]},r.id):a.jsxs("section",{id:r.id,className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden transition-all hover:shadow-md scroll-mt-32",children:[a.jsxs("div",{className:"bg-slate-50/50 px-6 py-4 border-b border-slate-100 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 text-white flex items-center justify-center font-bold text-sm mr-4 shadow-sm",children:i+1}),a.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight uppercase",children:r.title})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[r.fields.map(e=>{if(e.id==="distance_coin"&&s.type_terrain!=="Terrain d'angle")return null;if(e.id==="distance_coin"){if(s.type_terrain!=="Terrain d'angle")return null;const t=x[e.id],o=B(s[e.id],12);return a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.01",name:e.id,value:s[e.id]||"",onChange:R,className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 transition-all outline-none ${t==="non-conforme"?"border-red-300 focus:ring-red-200 text-red-700":t==="conforme"?"border-green-300 focus:ring-green-200 text-green-700":"border-slate-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:e.label}),a.jsx("div",{className:"absolute right-3 top-2.5",children:w(t,o)})]})]},e.id)}if(e.type==="measurement"){const t=x[e.id],o=p?p[e.normField]:null,c=B(s[e.id],o);return a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:e.label}),o&&a.jsxs("span",{className:"text-xs font-medium text-slate-500 bg-slate-100 px-2 py-1 rounded",children:["Requis: ",o,"m"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.01",name:e.id,value:s[e.id]||"",onChange:R,className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 transition-all outline-none ${t==="non-conforme"?"border-red-300 focus:ring-red-200 text-red-700":t==="conforme"?"border-green-300 focus:ring-green-200 text-green-700":"border-slate-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:o?`Norme: ${o}m`:e.label}),a.jsx("div",{className:"absolute right-3 top-2.5",children:w(t,c)})]})]},e.id)}if(e.id==="presence_locataire"&&s.type_activite!=="industrie")return null;if(e.type==="select")return e.id==="zone"?a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsxs("select",{name:e.id,value:s[e.id]||"",onChange:R,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none font-medium",children:[a.jsx("option",{value:"",children:"Sélectionner..."}),E.map(t=>a.jsx("option",{value:t.zone,children:t.zone},t.zone))]}),p&&a.jsxs("div",{className:"mt-3 bg-blue-50 border border-blue-100 rounded-lg p-3 text-sm text-blue-800 grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Avant:"})," ",p.margeAvant,"m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Arrière:"})," ",p.margeArriere,"m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Latérale:"})," ",p.margeLaterale,"m"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Lat. Comb:"})," ",p.margeLateraleCombinee,"m"]})]})]},e.id):e.id==="type_activite"||e.id==="sous_type_activite"?a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),L(e,r.id)]},e.id):e.options&&Array.isArray(e.options)?a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsxs("select",{name:e.id,value:s[e.id]||"",onChange:R,className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none font-medium",children:[a.jsx("option",{value:"",children:"Sélectionner..."}),e.options.map(t=>a.jsx("option",{value:t,children:t},t))]})]},e.id):L(e,r.id);if(e.type==="checkbox")return a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50 transition-colors",children:[a.jsx("input",{type:"checkbox",name:e.id,checked:s[e.id]||!1,onChange:R,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Oui / Confirmé"})]})]},e.id);if(e.type==="textarea")return a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsx("textarea",{name:e.id,value:s[e.id]||"",onChange:R,readOnly:e.readonly,rows:e.rows||3,className:`w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none ${e.readonly?"bg-slate-100/50 text-slate-500":""}`,placeholder:e.label})]},e.id);const n=L(e,r.id);return n||a.jsxs("div",{className:e.width==="full"?"md:col-span-2":"",children:[a.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:e.label}),a.jsx("input",{type:e.type,name:e.id,value:s[e.id]||"",onChange:R,readOnly:e.readonly,className:`w-full px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none ${e.readonly?"bg-slate-100/50 text-slate-500":""}`,placeholder:e.label})]},e.id)}),r.id==="info_immeuble"&&s.type_activite&&s.sous_type_activite&&(()=>{const e=f[s.type_activite]?.subtypes[s.sous_type_activite];if(!e||!e.inputs)return null;const n={nb_logement:"Nombre de logements",nb_sieges:"Nombre de sièges",nb_employes:"Nombre d'employés",nb_chambre:"Nombre de chambres",superficie_plancher_bureau:"Sup. Bureaux (m²)",superficie_plancher_admin:"Sup. Admin (m²)",nb_classes:"Nombre de classes",nb_etudiants:"Nombre d'étudiants",nb_medecins:"Nombre de médecins",nb_lits:"Nombre de lits",nb_salle_expo:"Nombre de salles d'expo",nb_unite_jeux:"Nombre d'unités de jeux"};return e.inputs.map(t=>t==="superficie_plancher"?null:a.jsxs("div",{className:"col-span-1 border-l-4 border-blue-400 pl-3 bg-blue-50 py-2 rounded-r-md",children:[a.jsxs("label",{className:"block text-sm font-medium text-blue-900 mb-1",children:[n[t]||t," (Requis)"]}),a.jsx("input",{type:"number",name:t,value:s[t]||"",onChange:R,className:"w-full p-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Entrer valeur..."})]},t))})()]})]},r.id)),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-slate-200 flex justify-end z-30 md:static md:bg-transparent md:border-0 md:p-0",children:a.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold text-lg flex items-center shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-200",children:[a.jsx(P,{className:"mr-3",size:24}),"Compter et Enregistrer l'Inspection"]})})]})]})]})};export{se as default};
